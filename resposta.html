<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quem √© esse Pok√©mon?</title>

<style>
:root {
  --cor-dourado: #d1a720;
  --cor-fundo: #1a1a1a;
  --cor-card: rgba(40, 35, 25, 0.95);
  --cor-texto: #f5f5f5;
}
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: "Segoe UI", Arial, sans-serif;
  background: linear-gradient(135deg, rgba(20,20,20,0.85), rgba(40,30,20,0.85)),
              url("https://i.imgur.com/vATNRmF.png") no-repeat center center fixed;
  background-size: cover;
  color: var(--cor-texto);
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

.card {
  background: var(--cor-card);
  padding: 25px;
  border-radius: 15px;
  box-shadow: 0 0 15px rgba(0,0,0,0.6);
  text-align: center;
  width: 380px;
}

h2 {
  color: var(--cor-dourado);
  margin-bottom: 20px;
}

input {
  width: 100%;
  padding: 12px;
  margin: 8px 0;
  border: none;
  border-radius: 8px;
}

button {
  background: var(--cor-dourado);
  color: #000;
  border: none;
  padding: 12px;
  margin-top: 10px;
  width: 100%;
  font-size: 1rem;
  font-weight: bold;
  border-radius: 10px;
  cursor: pointer;
  transition: 0.2s;
}
button:hover { background: #ffcc33; transform: scale(1.05); }

.hidden { display: none; }

#pokemonNome {
  font-size: 1.6rem;
  font-weight: bold;
  color: var(--cor-dourado);
  margin-top: 10px;
  text-shadow: 0 0 8px #000;
}
#pokemonImg {
  margin-top: 10px;
  max-width: 220px;
  width: 100%;
}
.info {
  margin-top: 10px;
  text-align: left;
}
.info p {
  margin: 5px 0;
}
</style>
</head>
<body>
  <!-- Login -->
  <div class="card" id="loginCard">
    <h2>Login Organizador</h2>
    <input type="text" id="login" placeholder="Usu√°rio">
    <input type="password" id="senha" placeholder="Senha">
    <button onclick="fazerLogin()">Entrar</button>
    <p id="erro" style="color:red; display:none;">Usu√°rio ou senha incorretos!</p>
  </div>

  <!-- Pergunta -->
  <div class="card hidden" id="perguntaCard">
    <h2>Pergunta</h2>
    <p id="perguntaTexto"></p>
    <button onclick="mostrarResposta()">Mostrar Resposta</button>
    <button onclick="logout()">Sair</button>
  </div>

  <!-- Resposta -->
  <div class="card hidden" id="respostaCard">
    <h2>Resultado</h2>
    <p>O Pok√©mon sorteado foi:</p>
    <div id="pokemonNome"></div>
    <img id="pokemonImg" alt="Pok√©mon revelado">
    <div class="info">
      <p><b>Resposta:</b> <span id="respostaTexto"></span></p>
      <p><b>Dex:</b> <span id="dexTexto"></span></p>
      <p><b>Explica√ß√£o:</b> <span id="explicacaoTexto"></span></p>
    </div>
    <br>
    <button onclick="sortearPergunta()">üîÑ Recarregar</button>
    <button onclick="logout()">Sair</button>
  </div>

<script>
// üîë Credenciais
const USUARIO = "OrganizadorDeEventos";
const SENHA = "MikeOMacaco3Foda";

// üîê Criptografia simples
const SECRET_KEY = "MikeOMacacoefoda2024";
function encrypt(text) {
  return btoa(unescape(encodeURIComponent(
    text.split('').map((c,i)=>
      String.fromCharCode(c.charCodeAt(0) ^ SECRET_KEY.charCodeAt(i % SECRET_KEY.length))
    ).join('')
  )));
}
function decrypt(text) {
  try {
    const decoded = decodeURIComponent(escape(atob(text)));
    return decoded.split('').map((c,i)=>
      String.fromCharCode(c.charCodeAt(0) ^ SECRET_KEY.charCodeAt(i % SECRET_KEY.length))
    ).join('');
  } catch {
    return null;
  }
}

// üîπ Perguntas (exemplo, pode puxar de um JSON externo)
const perguntas = [
  {
    pergunta: "Qual Pok√©mon pode voar a velocidades incr√≠veis, chegando a cruzar o c√©u em segundos?",
    resposta: "Pidgeot",
    dex: "Silver",
    explicacao: "A Pok√©dex diz que Pidgeot √© t√£o r√°pido que atravessa grandes dist√¢ncias em pouco tempo.",
    id: 18
  },
  {
    pergunta: "Qual Pok√©mon consegue nadar em magma sem se queimar?",
    resposta: "Magmar",
    dex: "Ruby",
    explicacao: "Ele √© t√£o resistente ao calor que nada tranquilamente em magma.",
    id: 126
  }
];

// üîπ Login
function fazerLogin() {
  const usuario = document.getElementById("login").value;
  const senha = document.getElementById("senha").value;

  if (usuario === USUARIO && senha === SENHA) {
    sessionStorage.setItem("adminLogado", "true"); // sess√£o expira ao fechar aba
    sortearPergunta();
    document.getElementById("loginCard").classList.add("hidden");
    document.getElementById("perguntaCard").classList.remove("hidden");
  } else {
    document.getElementById("erro").style.display = "block";
  }
}

// üîπ Sorteio
function sortearPergunta() {
  const pergunta = perguntas[Math.floor(Math.random() * perguntas.length)];
  sessionStorage.setItem("pokemonResposta", encrypt(JSON.stringify(pergunta)));

  document.getElementById("perguntaTexto").innerText = pergunta.pergunta;

  document.getElementById("perguntaCard").classList.remove("hidden");
  document.getElementById("respostaCard").classList.add("hidden");
}

// üîπ Mostrar resposta
function mostrarResposta() {
  const cripto = sessionStorage.getItem("pokemonResposta");
  if (!cripto) return;

  const obj = JSON.parse(decrypt(cripto));

  document.getElementById("pokemonNome").innerText = obj.resposta;
  document.getElementById("respostaTexto").innerText = obj.resposta;
  document.getElementById("dexTexto").innerText = obj.dex;
  document.getElementById("explicacaoTexto").innerText = obj.explicacao;
  document.getElementById("pokemonImg").src =
    `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${obj.id}.png`;

  document.getElementById("perguntaCard").classList.add("hidden");
  document.getElementById("respostaCard").classList.remove("hidden");
}

// üîπ Logout
function logout() {
  sessionStorage.clear();
  location.reload();
}

// üîπ Verifica login ativo
window.onload = () => {
  if (sessionStorage.getItem("adminLogado") === "true") {
    sortearPergunta();
    document.getElementById("loginCard").classList.add("hidden");
    document.getElementById("perguntaCard").classList.remove("hidden");
  }
};
</script>
</body>
</html>
